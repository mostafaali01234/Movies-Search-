(this["webpackJsonpmovies-search"]=this["webpackJsonpmovies-search"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),a=c(16),i=c.n(a),r=(c(22),c(7)),j=(c(23),c(1)),l=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(O);return Object(j.jsxs)("form",{className:"search",children:[Object(j.jsx)("input",{value:c,onChange:function(e){n(e.target.value)},type:"text"}),Object(j.jsx)("input",{onClick:function(e){e.preventDefault(),a(c),n("")},type:"submit",value:"SEARCH"})]})},o=function(e){var t=e.text,c=e.click,s=e.setHome;return Object(j.jsxs)("div",{className:"App-header",children:[Object(j.jsx)("a",{href:"/Movies-Search-/",onClick:function(){s(c+1)},children:t}),Object(j.jsx)(l,{})]})},d=c(9),h=function(e){var t=e.movie,c=e.genres,s=e.onDetails,n="http://image.tmdb.org/t/p/w500/".concat(t.poster_path),a=t.genre_ids.map((function(e){var t;return c.map((function(c){if(c.id==e)return t=c.name})),t}));return t.poster_path?Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsxs)("div",{className:"images",children:[Object(j.jsx)("img",{width:"200",src:n,alt:"Title"}),Object(j.jsxs)("div",{className:"movie-overlay",children:[Object(j.jsxs)("p",{children:[t.vote_average," / 10"]}),Object(j.jsxs)("h5",{children:[a[0]," ",Object(j.jsx)("br",{})," ",a[1]]}),Object(j.jsx)(d.b,{to:"/Movies-Search-/"+t.title,children:Object(j.jsx)("button",{onClick:function(){return s(t,a,t.title)},children:"Details"})})]})]}),Object(j.jsx)("h4",{children:t.title}),Object(j.jsx)("p",{children:t.release_date?t.release_date.slice(0,4):t.release_date})]}):null},b=function(e){var t=e.movie,c=e.genres,s="http://image.tmdb.org/t/p/w500/".concat(t.poster_path);return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col sm",children:[Object(j.jsx)("h1",{children:t.title}),Object(j.jsx)("h2",{children:t.release_date?t.release_date.slice(0,4):t.release_date}),Object(j.jsx)("h2",{children:c.map((function(e,t){return(t?" / ":"")+e}))}),Object(j.jsxs)("h2",{children:["Rate: ",t.vote_average,"/10"]})]}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("img",{width:"250",src:s,alt:"Title"})}),Object(j.jsx)("div",{className:"col sm",children:Object(j.jsxs)("h4",{children:[" ",t.overview]})}),Object(j.jsxs)("div",{className:"col hidden-sm",children:[Object(j.jsx)("h1",{children:t.title}),Object(j.jsx)("h2",{children:c.map((function(e,t){return(t?" / ":"")+e}))}),Object(j.jsx)("h2",{children:t.release_date?t.release_date.slice(0,4):t.release_date}),Object(j.jsxs)("h2",{children:["Rate: ",t.vote_average,"/10"]}),Object(j.jsxs)("h4",{children:[" ",t.overview]})]})]})})},u=c(2),O=Object(s.createContext)(),v=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)([]),i=Object(r.a)(a,2),l=i[0],v=i[1],x=Object(s.useState)([]),m=Object(r.a)(x,2),f=m[0],p=m[1],g=Object(s.useState)(null),_=Object(r.a)(g,2),S=_[0],N=_[1],k=Object(s.useState)(0),C=Object(r.a)(k,2),w=C[0],y=C[1],M=Object(s.useState)(),D=Object(r.a)(M,2),T=D[0],E=D[1],F=Object(s.useState)(),A=Object(r.a)(F,2),H=A[0],P=A[1],R=Object(s.useState)(),B=Object(r.a)(R,2),I=B[0],J=B[1];Object(s.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/popular?api_key=c9a37db220f30fead3da528299127d84&language=en-US&page=1").then((function(e){return e.json()})).then((function(e){v(e.results),n(!1)})),fetch("https://api.themoviedb.org/3/genre/movie/list?&api_key=c9a37db220f30fead3da528299127d84").then((function(e){return e.json()})).then((function(e){p(e.genres)}))}),[w]);var L=function(e,t,c){E(e),J(t),P(c)};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"bg-image"}),Object(j.jsx)(O.Provider,{value:function(e){n(!0),N(null),fetch("https://api.themoviedb.org/3/search/movie?api_key=c9a37db220f30fead3da528299127d84&language=en-US&query=".concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){e.total_results>=1?(v(e.results),n(!1)):(N(e.Error),n(!1))}))},children:Object(j.jsx)(o,{text:"Movies Search",click:w,setHome:y})}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(u.b,{exact:!0,path:"/Movies-Search-/",render:function(){return Object(j.jsx)("div",{className:"movies",children:c&&!S?Object(j.jsx)("span",{children:"loading..."}):S?Object(j.jsx)("div",{className:"errorMessage",children:S}):l.map((function(e,t){return Object(j.jsx)(h,{movie:e,genres:f,onDetails:L},"".concat(t,"-").concat(e.Title))}))})}}),Object(j.jsx)(u.b,{path:"/Movies-Search-/"+H,render:function(){return Object(j.jsx)(b,{movie:T,genres:I})}}),Object(j.jsx)(u.a,{from:"/",to:"/Movies-Search-/"})]})]})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),s(e),n(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(v,{})})}),document.getElementById("root")),x()}},[[30,1,2]]]);
//# sourceMappingURL=main.1ac5a757.chunk.js.map