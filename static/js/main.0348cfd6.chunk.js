(this["webpackJsonpmovies-search"]=this["webpackJsonpmovies-search"]||[]).push([[0],{15:function(e,t,c){},23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(17),r=c.n(a),i=(c(23),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),s(e),n(e),a(e),r(e)}))}),o=c(6),j=c(9),l=c(2),d=(c(15),c(0)),h=function(e){var t=e.movie,c=e.genres,s=e.onDetails,n="http://image.tmdb.org/t/p/w500/".concat(t.poster_path),a=t.genre_ids.map((function(e){var t;return c.map((function(c){return c.id===e?t=c.name:0})),t}));return t.poster_path?Object(d.jsxs)("div",{className:"movie",children:[Object(d.jsxs)("div",{className:"images",children:[Object(d.jsx)("img",{width:"200",src:n,alt:"Title"}),Object(d.jsxs)("div",{className:"movie-overlay",children:[Object(d.jsxs)("p",{children:[t.vote_average," / 10"]}),Object(d.jsxs)("h5",{children:[a[0]," ",Object(d.jsx)("br",{})," ",a[1]]}),Object(d.jsx)(j.b,{to:"/Movies-Search-/".concat(t.title),children:Object(d.jsx)("button",{onClick:function(){return s(t,a,t.title)},children:"Details"})})]})]}),Object(d.jsx)("h4",{children:t.title}),Object(d.jsx)("p",{children:t.release_date?t.release_date.slice(0,4):t.release_date})]}):null},b=function(e){var t=e.movies,c=e.genres,s=e.onDetails;return Object(d.jsx)("div",{className:"movies",children:t.map((function(e,t){return Object(d.jsx)(h,{movie:e,genres:c,onDetails:s},"".concat(t,"-").concat(e.Title))}))})},u=function(e){var t=e.setSelectedDetails,c=e.setSelectedPath,n=e.setSelectedGenres,a=e.setMovies,r=e.movies,i=e.setLoading,j=e.loading,l=e.errorMessage,h=e.searchLoading,u=Object(s.useState)([]),O=Object(o.a)(u,2),v=O[0],m=O[1];Object(s.useEffect)((function(){0!==h||(fetch("https://api.themoviedb.org/3/movie/popular?api_key=c9a37db220f30fead3da528299127d84&language=en-US&page=1").then((function(e){return e.json()})).then((function(e){a(e.results),i(!1)})),fetch("https://api.themoviedb.org/3/genre/movie/list?&api_key=c9a37db220f30fead3da528299127d84").then((function(e){return e.json()})).then((function(e){m(e.genres)})))}),[a,i,h]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"bg-image"}),j&&!l?Object(d.jsx)("span",{children:"loading..."}):l?Object(d.jsx)("div",{className:"errorMessage",children:l}):Object(d.jsx)(b,{movies:r,genres:v,onDetails:function(e,s,a){t(e),n(s),c(a)}})]})},O=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(x),r=a.searchFun,i=a.searchLoading,l=a.setSearchLoading;return Object(d.jsxs)("form",{className:"search",children:[Object(d.jsx)("input",{value:c,onChange:function(e){n(e.target.value)},type:"text"}),Object(d.jsx)(j.b,{to:"/Movies-Search-/",onClick:function(e){r(c),l(i+1),n("")},children:"Search"})]})},v=function(e){var t=e.text;e.click,e.setHome;return Object(d.jsxs)("div",{className:"App-header",children:[Object(d.jsx)("a",{href:"/Movies-Search-/",children:t}),Object(d.jsx)(O,{})]})},m=function(e){var t=e.movie,c=e.genres,s="http://image.tmdb.org/t/p/w500/".concat(t.poster_path);return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col sm",children:[Object(d.jsx)("h1",{children:t.title}),Object(d.jsx)("h2",{children:t.release_date?t.release_date.slice(0,4):t.release_date}),Object(d.jsx)("h2",{children:c.map((function(e,t){return(t?" / ":"")+e}))}),Object(d.jsxs)("h2",{children:["Rate: ",t.vote_average,"/10"]})]}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("img",{width:"250",src:s,alt:"Title"})}),Object(d.jsx)("div",{className:"col sm",children:Object(d.jsxs)("h4",{children:[" ",t.overview]})}),Object(d.jsxs)("div",{className:"col hidden-sm",children:[Object(d.jsx)("h1",{children:t.title}),Object(d.jsx)("h2",{children:c.map((function(e,t){return(t?" / ":"")+e}))}),Object(d.jsx)("h2",{children:t.release_date?t.release_date.slice(0,4):t.release_date}),Object(d.jsxs)("h2",{children:["Rate: ",t.vote_average,"/10"]}),Object(d.jsxs)("h4",{children:[" ",t.overview]})]})]})})},x=Object(s.createContext)(),g=function(){var e=Object(s.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(),i=Object(o.a)(r,2),h=i[0],b=i[1],O=Object(s.useState)(),g=Object(o.a)(O,2),f=g[0],p=g[1],S=Object(s.useState)([]),_=Object(o.a)(S,2),N=_[0],M=_[1],L=Object(s.useState)(!0),w=Object(o.a)(L,2),k=w[0],C=w[1],D=Object(s.useState)(0),y=Object(o.a)(D,2),F=y[0],T=y[1],P=Object(s.useState)(null),E=Object(o.a)(P,2),A=E[0],B=E[1];return Object(d.jsx)(j.a,{children:Object(d.jsxs)(n.a.Fragment,{children:[Object(d.jsx)("div",{className:"bg-image"}),Object(d.jsx)(x.Provider,{value:{searchFun:function(e){C(!0),B(null),setTimeout((function(){fetch("https://api.themoviedb.org/3/search/movie?api_key=c9a37db220f30fead3da528299127d84&language=en-US&query=".concat(e,"&page=1&include_adult=false")).then((function(e){return e.json()})).then((function(e){e.total_results>=1?(M(e.results),C(!1)):(B(e.Error),C(!1))}))}),50)},searchLoading:F,setSearchLoading:T},children:Object(d.jsx)(v,{text:"Movies Search"})}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/Movies-Search-/",exact:!0,render:function(){return Object(d.jsx)(u,{setSelectedDetails:a,setSelectedPath:b,setSelectedGenres:p,setMovies:M,movies:N,setLoading:C,loading:k,errorMessage:A,searchLoading:F})}}),Object(d.jsx)(l.b,{path:"/Movies-Search-/".concat(h,"/"),render:function(){return Object(d.jsx)(m,{movie:c,genres:f})}}),Object(d.jsx)(l.a,{from:"/",to:"/Movies-Search-/"})]})]})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),i()}},[[30,1,2]]]);
//# sourceMappingURL=main.0348cfd6.chunk.js.map